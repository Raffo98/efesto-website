<template>
    <div class="cta" @mouseover="isHover = true" @mouseleave=" isHover = false"
        :style="[isHover ? { backgroundPosition: 'left bottom' } : { backgroundPosition: 'right bottom' }]">
        <button :class="{
            cta__button: true,
        }">
            <div class="cta__button__box">
                <p class="cta__button__box__text" v-html="props.content.text"
                    :style="[isHover ? { color: 'rgba(231, 83, 23, 1)' } : { color: 'rgba(247, 247, 247, 1)' }]"></p>
            </div>
            <div class="cta__button__box__icon"
                :style="[isHover ? { backgroundColor: 'rgba(231, 83, 23, 1)' } : { backgroundColor: 'rgba(247, 247, 247, 1)' }]">
                <img :src="`${$assetsBasePath}icons/${props.content.icon}.svg`" :class="{ 'onHover': isHover }" />
            </div>
        </button>
    </div>
</template>

<script setup>
import { ref } from "@vue/runtime-core";

const props = defineProps({
    content: Object,
});

const isHover = ref(false);

</script>

<style lang="scss" scoped>
.cta {
    border: 1.5px solid $color-orange !important;
    position: relative;
    transition: width 0.3s ease;
    background: linear-gradient(to right, $color-white 50%, $color-orange 50%);
    background-size: 200% 100%;
    transition: all 0.8s ease;
    width: 30vw;

    .mobile & {
        width: 100%;
    }


    &__button {
        display: flex;
        align-items: center;
        height: 75px;
        width: 100%;
        justify-content: space-between;


        &__box {


            &__text {
                white-space: nowrap;
                padding: 8px 16px !important;
                @include text;
                color: $color-white;
                text-transform: uppercase;
                transition: color 0.5s ease;
            }

            &__icon {
                border-left: 1.5px solid $color-orange !important;
                width: 75px;
                height: 100%;
                display: flex;
                align-items: center;
                justify-content: center;
                transition: background-color 0.5s ease;

                img {
                    filter: invert(45%) sepia(50%) saturate(2400%) hue-rotate(360deg) brightness(81%) contrast(99%);
                    transition: filter 0.3s ease;

                }
            }
        }
    }
}

.onHover {
    filter: invert(50%) sepia(0%) saturate(0%) hue-rotate(133deg) brightness(1200%) contrast(90%) !important;
}
</style>